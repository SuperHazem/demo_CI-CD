name: CI/CD Pipeline

on: 
    push:
        branches: 
        - main
        - test
    
    pull_request:
        branches:
        - main
        - test
       

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v6.0.2

      - name: Run Test Script
        run: bash src/test.sh

  deploy:
    runs-on: ubuntu-latest
    needs: test  # <--- THE MAGIC LINE!
    steps:
      - name: Simulate Deployment
        run: echo "ðŸš€ Tests passed! Deploying application to production server..."